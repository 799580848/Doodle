$(function(){function n(){h.length?f=h.attr("href"):(t.off("scroll",e),f="")}function o(){a.load(f+"&section=content #content",function(){h=a.find(".post-nav>.previous>a"),n(),h.parent().after(r),$("#content>.post-nav").detach(),a.children().detach().children().hide().appendTo(c).slideDown(1e3).find("pre>code").each(function(n,o){hljs.highlightBlock(o)}),l=!1}),ga_id&&ga("send","event","Page","Load",null,f)}function e(){!l&&t.scrollTop()+t.height()-i-c.outerHeight()>60&&(l=!0,o())}var t=$(window),c=$("#content"),i=c.offset().top,a=$("<div/>"),l=!1,h=$("#content>.post-nav>.previous>a"),f="",r=$('<span class="no-more"><a href="javascript:;">停止自动加载</a></span>');hljs.configure({tabReplace:"    "}),$("pre>code").each(function(n,o){hljs.highlightBlock(o)}),r.find("a").click(function(){t.off("scroll",e),r.remove()}),t.on("scroll",e),n()});